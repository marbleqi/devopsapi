# 设计原则

## 代码尽量重用

1. 使用面向切面编程模式，设计通用的路由守卫和拦截器
2. 抽象通用的类和通用的方法
3. 有部分业务对象在前端和后端都有相同的配置，可考虑从后端获取相关结构，然后在前端根据从后端获取的结构渲染表格和表单

注：如果前端使用的表结构为后端获取渲染，也可能会增加无效交互，具体方案需要平台考虑

## 降低网络 IO

1. 采用前后端分离技术
   1. 有关数据展示的逻辑全部由前端项目实现
   2. 有关业务逻辑处理部分由后端集中实现
2. 尽量减少前后端数据交互
   1. 前端要提交的数据，先在前端做有效性校验，校验不通过的，前端直接提示错误。
   2. 前端提交给后端的数据，只保留后端业务逻辑处理必需的部分，不需要的数据不提交。
   3. 后端返回给前端的数据，只保留页面渲染的必要字段
   4. 数据列表请求接口增加版本标记，前端请求列表数据时提交已缓存数据的版本标记，后端只返回版本标记变化后的数据记录，前端将更新后的数据和已缓存的数据做合并，再渲染显示
3. 尽量减少后端的处理压力
   1. 后端不做返回数据的逻辑处理（排序，关联等）和格式转换，只将必要的数据返回给前端，由前端基于这些数据做页面渲染

## 降低后端处理压力

1. 做好同步处理和异步处理逻辑规划
2. 与请求强相关的逻辑（请求后必须响应的数据）使用同步处理
3. 与请求弱相关的逻辑（请求后不必响应数据，但后端又必须做的处理，如日志，通知，事件，队列等）使用异步处理

## 记录日志

1. 记录所有请求记录
2. 记录所有实体对象的变更记录
